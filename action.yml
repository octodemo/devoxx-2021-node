name: 'Node CI'
description: 'Standard CI for a Node project'
inputs:
  node-version:
    description: 'The version of node'
    required: true
  shell:
    description: 'The shell to run on'
    required: false
    default: 'bash'
runs:
  using: 'composite'
  steps:
    - name: Setup node env ğŸ—
      uses: actions/setup-node@v2
      with:
        node-version: ${{ inputs.node-versionÂ }}
        cache: npm
        check-latest: true

    - name: Install dependencies ğŸ‘¨ğŸ»â€ğŸ’»
      shell: ${{ inputs.shell }}
      run: npm ci --prefer-offline --no-audit

    - name: Run linter ğŸ‘€
      shell: ${{ inputs.shell }}
      run: npm run lint

    - name: Run tests ğŸ§ª
      shell: ${{ inputs.shell }}
      run: npm run test
